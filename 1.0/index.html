<!DOCTYPE html>
<html>
	<head>
		<title>MusicMap 1.0</title>
		<link href="resources/stylesheets/stylesheet.css" rel="stylesheet" type="text/css"/>
	</head>

	<body>
		<script>
			// Check browser support
			if (typeof(Storage) !== "undefined") {
				if(window.navigator.vendor != "Google Inc."){
					alert("Make sure you are using the latest version of Google Chrome.");
				}
			} else {
			    alert("Sorry, your browser does not support Web Storage. Trying using the latest version of Google Chrome.");
			}

			console.log("Key offset is: "+localStorage.keyoffset);

			function isFirstTime() {
				if(localStorage.keyoffset == null){
					document.getElementsByClassName("GoButton")[0].parentElement.href = "choosekey.html";
				}
			}

			function resetProgress(){
				for(var i=0;i<12;i++){
					localStorage.removeItem("bluesSc"+i);
					localStorage.removeItem("dom7Sc"+i);
					localStorage.removeItem("bluesBas"+i);
					localStorage.removeItem("maj7Sc"+i);
					localStorage.removeItem("min7Sc"+i);
					localStorage.removeItem("iiviMaj"+i);
					localStorage.removeItem("main"+i+"Col");
					localStorage.removeItem("main"+i+"Date");
				}
				alert("Progress reset! Click change instrument to change key.");
			}

		</script>

		<div class="FullPageContainer">

			<div class="TitleText">
				<span class="TitleText-01">Music</span><span class="TitleText-02">Map</span><img class="TitleLogo" src="resources/images/MusicMap%20Notes_opt.png" alt="MusicMap%20Notes.psd" />
			</div>

			<div class="TextContainer">
				<p>A more enjoyable, more inspiring way to practice your improvisation.</p>
				<div>
					<ul>
						<li>Brush up on your scales</li>
						<li>Discover new chord progressions (or revisit old ones)</li>
						<li>Track your progress</li>
						<li>Make your practice time <u>count</u></li>
					</ul>
				</div>
			</div>

			<a href="home.html"><button class="GoButton" onclick="isFirstTime()">Click to start</button></a>
			<div id="optionsContainer">
				<a href="choosekey.html"><button id="optionsButton1">Change instrument</button></a>
				<button id="optionsButton2" onclick="resetProgress()">Reset progress</button>
			</div>
		</div>

		<script>
			
			if(localStorage.keyoffset != null){
				document.querySelector("#optionsButton1").style.visibility = "visible";
				document.querySelector("#optionsButton2").style.visibility = "visible";
			}

		</script>
	</body>
</html>